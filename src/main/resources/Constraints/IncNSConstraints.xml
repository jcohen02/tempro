<?xml version="1.0" encoding="UTF-8"?> 
<PrismConstraints 
    xmlns="http://libhpc.doc.ic.ac.uk/prism/constraints"  
    xmlns:prism="http://libhpc.doc.ic.ac.uk/prism/constraints"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://libhpc.doc.ic.ac.uk/prism/constraints PRISMConstraints.xsd">
    
    <description>Constraints for the Nektar++ Incompressible Navier-Stokes solver</description>
    
    <!-- This should be the solver name exactly as it appears in the root node
         of the tree that these constraints relate to. 
    -->
    <solver>IncompressibleNavierStokes</solver>
    
    <variables>

      <variable path="NumericalAlgorithm.SolverType" name="SolverType">
        <domain>
          <value>VelocityCorrectionScheme</value>
          <value>DirectSolver</value>
        </domain>
      </variable>

<!--       <variable path="ProblemSpecification.EquationType" name="EquationType">
        <domain>
          <value>SteadyStokes</value>
          <value>SteadyOseen</value>
          <value>UnsteadyStokes</value>
          <value>SteadyLinearisedNavierStokes</value>
          <value>UnsteadyLinearisedNavierStokes</value>
          <value>UnsteadyNavierStokes</value>
        </domain>
      </variable> -->
      
      <variable path="NumericalAlgorithm.TimeIntegration.TimeIntegrationMethod" 
                name="TimeIntegrationMethod">
        <domain>
          <value>Off</value>
          <value>IMEXOrder1</value>
          <value>IMEXOrder2</value>
          <value>IMEXOrder3</value>
          <value>BackwardEuler</value>
          <value>BDFOrder1</value>
          <value>BDFOrder2</value>
        </domain>
      </variable>
      
    </variables>
    
    <constraints>
      <!-- Constraint mappings for Equation Type -> AdvectionType -->
      <!-- 
           If an EquationType that has no advection term is selected 
           (i.e. Laplace, Poisson, Helmholtz, SteadyDiffusionReaction, 
           UnsteadyDiffusion or UnsteadyInviscidBurger), it is not valid to 
           select an entry from NumericalAlgorithm -> AdvectionType and this 
           must be switched off. 
      -->

      <mapping variable="SolverType" varvalue="VelocityCorrectionScheme" targetVariable="TimeIntegrationMethod">
        <targetValue>IMEXOrder1</targetValue>
        <targetValue>IMEXOrder2</targetValue>
        <targetValue>IMEXOrder3</targetValue>
        <targetValue>BackwardEuler</targetValue>
        <targetValue>BDFOrder1</targetValue>
        <targetValue>BDFOrder2</targetValue>
      </mapping>
      <mapping variable="SolverType" varvalue="DirectSolver" targetVariable="TimeIntegrationMethod">
        <targetValue>Off</targetValue>
      </mapping>
    </constraints>              
                  
</PrismConstraints>