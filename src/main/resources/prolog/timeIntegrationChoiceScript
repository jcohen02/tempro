#!/usr/bin/env swipl

:- initialization main.

get_choices(Argv, ArgLength) :-
        ArgLength > 0,
        write('Argv: '), write_ln(Argv),
        
        % Convert first item of list to a string
        [ First  | Rest   ] = Argv,
        [ Second | _Empty ] = Rest,
        
        write('First: '), write_ln(First),
        write('Second: '), write_ln(Second),
        
        atom_string(First, FirstStr),
        atom_number(Second, SecondNum),
        
        write('FirstStr: '), write_ln(FirstStr),
        write('SecondNum: '), write_ln(SecondNum),
        
        findall((X, FirstStr, SecondNum), timeIntegrationChoice(X, FirstStr, SecondNum), Result),
        write(Result), write('\n').

get_choices(_Argv, ArgLength) :-
		ArgLength < 1,
        write_ln('NORESULT').
        
main :-
        consult(timeintegration2),
        current_prolog_flag(argv, Argv),
        write('Argv before get_choices: '), write_ln(Argv),
        length(Argv, ArgLength),
        catch(get_choices(Argv, ArgLength), E, (print_message(error, E), fail)),
        halt.
main :-
        halt(1).
